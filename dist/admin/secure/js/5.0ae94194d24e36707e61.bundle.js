(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{331:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},494:function(e,t,n){"use strict";n.d(t,"a",(function(){return mn})),n.d(t,"b",(function(){return yn})),n.d(t,"c",(function(){return kn})),n.d(t,"d",(function(){return $t}));var r=n(0),o=n.n(r),a=n(47),i=n.n(a),s=n(330);function l(e,t){function n(n,r,o,a,i){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+i+" `"+o+"` is marked as required in `"+a+"`, but it was not supplied."):t(s)?null:new Error("Invalid "+i+" `"+o+"` supplied to `"+a+"`, expected a Slate `"+e+"` but received: "+s):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!0].concat(t))},r}var c={block:l("Block",(function(e){return s.a.isBlock(e)})),blocks:l("List<Block>",(function(e){return s.a.isBlockList(e)})),change:l("Change",(function(e){return s.b.isChange(e)})),data:l("Data",(function(e){return s.c.isData(e)})),document:l("Document",(function(e){return s.d.isDocument(e)})),inline:l("Inline",(function(e){return s.f.isInline(e)})),inlines:l("Inline",(function(e){return s.f.isInlineList(e)})),leaf:l("Leaf",(function(e){return s.g.isLeaf(e)})),leaves:l("List<Leaf>",(function(e){return s.g.isLeafList(e)})),mark:l("Mark",(function(e){return s.h.isMark(e)})),marks:l("Set<Mark>",(function(e){return s.h.isMarkSet(e)})),node:l("Node",(function(e){return s.i.isNode(e)})),nodes:l("List<Node>",(function(e){return s.i.isNodeList(e)})),range:l("Range",(function(e){return s.k.isRange(e)})),ranges:l("List<Range>",(function(e){return s.k.isRangeList(e)})),selection:l("Selection",(function(e){return s.l.isSelection(e)})),value:l("Value",(function(e){return s.n.isValue(e)})),text:l("Text",(function(e){return s.m.isText(e)})),texts:l("List<Text>",(function(e){return s.m.isTextList(e)}))},u=n(666),d=n.n(u),f=n(667),p=n.n(f),v=function(e,t){0},h=n(670),m=n.n(h),y=n(673),g=n.n(y),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C="object"===("undefined"==typeof window?"undefined":b(window))&&"object"===("undefined"==typeof document?"undefined":b(document))&&9===document.nodeType,w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},k=void 0;if(C){var O=!0,E=!1,x=void 0;try{for(var N,D=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(O=(N=D.next()).done);O=!0){var S=N.value,T=w(S,2),R=T[0];if(T[1].test(window.navigator.userAgent)){k=R;break}}}catch(e){E=!0,x=e}finally{try{!O&&D.return&&D.return()}finally{if(E)throw x}}}var F=void 0;if(C){var A=!0,B=!1,I=void 0;try{for(var M,j=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(A=(M=j.next()).done);A=!0){var P=M.value,L=w(P,2),q=L[0];if(L[1].test(window.navigator.userAgent)){F=q;break}}}catch(e){B=!0,I=e}finally{try{!A&&j.return&&j.return()}finally{if(B)throw I}}}var W=[];if(C){var U=!0,_=!1,K=void 0;try{for(var V,z=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(U=(V=z.next()).done);U=!0){var H=V.value,J=w(H,2),X=J[0];(0,J[1])(window)&&W.push(X)}}catch(e){_=!0,K=e}finally{try{!U&&z.return&&z.return()}finally{if(_)throw K}}}var $=[[/^9([.]0|)/,28],[/^8[.]1/,27],[/^8([.]0|)/,26],[/^7[.]1/,25],[/^7([.]0|)/,24],[/^6([.]0|)/,23],[/^5[.]1/,22],[/^5([.]0|)/,21],[/^4[.]4/,20]];var Y="firefox"===k,G="safari"===k,Z="ie"===k,Q="edge"===k,ee="android"===F,te="ios"===F,ne="macos"===F,re=function(){if("android"!==F)return null;var e=window.navigator.userAgent.match(/Android\s([0-9\.]+)/);if(null==e)return null;var t=e[1],n=!0,r=!1,o=void 0;try{for(var a,i=$[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=w(s,2),c=l[0],u=l[1];if(t.match(c))return u}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return null}(),oe=(W.includes("inputeventslevel1"),W.includes("inputeventslevel2")||ee&&(28===re||null===re)),ae=n(674),ie=n.n(ae),se=n(535),le=n.n(se),ce=n(480),ue=n(680),de={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},fe={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},pe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},ve={},he=te||ne,me=!he;[].concat(Object.keys(de)).concat(Object.keys(fe)).concat(Object.keys(pe)).forEach((function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!ve[t]){var n=de[e],r=fe[e],o=pe[e],a=n&&Object(ue.isKeyHotkey)(n),i=r&&Object(ue.isKeyHotkey)(r),s=o&&Object(ue.isKeyHotkey)(o);ve[t]=function(e){return!(!a||!a(e))||(!!(he&&i&&i(e))||!!(me&&s&&s(e)))}}}));var ye=ve,ge=n(20),be=n.n(ge),Ce=n(681);function we(e){var t=JSON.stringify(e);return Object(Ce.btoa)(encodeURIComponent(t))}function ke(e){var t=decodeURIComponent(Object(Ce.atob)(e));return JSON.parse(t)}var Oe={deserialize:function(e,t){var n=ke(e);return s.n.fromJSON(n,t)},deserializeNode:function(e,t){var n=ke(e);return s.i.fromJSON(n,t)},serialize:function(e,t){return we(e.toJSON(t))},serializeNode:function(e,t){return we(e.toJSON(t))}},Ee=n(513),xe=n(49),Ne=function(e,t){if(!e)throw new Error("Invariant failed: "+(t||""))},De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Te=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Re=0;var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Re++,n=e.placeholder,r=e.when,a=e.style,i=void 0===a?{}:a;function s(e,n,o){if(!n.query(r,e))return o();var a=o(),i=e.texts(),s=Se(i,1)[0],l=e.texts({direction:"backward"}),c=Se(l,1)[0],u=Se(s,2),d=u[0],f=u[1],p=Se(c,2),v=p[0],h=p[1],m={type:"placeholder",data:{key:t},anchor:{key:d.key,offset:0,path:f},focus:{key:v.key,offset:v.text.length,path:h}};return[].concat(Te(a),[m])}function l(e,r,a){var s=e.children,l=e.decoration;if("placeholder"===l.type&&l.data.get("key")===t){var c=De({pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",verticalAlign:"text-top"},i);return o.a.createElement("span",null,o.a.createElement("span",{contentEditable:!1,style:c},n),s)}return a()}return Ne("string"==typeof n,"You must pass `SlateReactPlaceholder` an `options.placeholder` string."),Ne("string"==typeof r||"function"==typeof r,"You must pass `SlateReactPlaceholder` an `options.when` query."),{decorateNode:s,renderDecoration:l}},Ae=function(e,t){return e===t};var Be=function(e,t){var n;void 0===t&&(t=Ae);var r,o=[],a=!1,i=function(e,n){return t(e,o[n],n)};return function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return a&&n===this&&s.length===o.length&&s.every(i)||(r=e.apply(this,s),a=!0,n=this,o=s),r}},Ie=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"],Me="data-slate-editor",je="data-slate-fragment",Pe="data-key",Le="data-slate-leaf",qe="data-slate-length",We="data-slate-object",Ue="data-offset-key",_e="data-slate-spacer",Ke="data-slate-string",Ve="data-slate-void",ze="data-slate-zero-width",He={BLOCK:"["+We+'="block"]',EDITOR:"["+Me+"]",INLINE:"["+We+'="inline"]',KEY:"["+Pe+"]",LEAF:"["+Le+"]",OBJECT:"["+We+"]",STRING:"["+Ke+"]",TEXT:"["+We+'="text"]',VOID:"["+Ve+"]",ZERO_WIDTH:"["+ze+"]"},Je=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ze=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Qe=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},et=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},tt=/^([\w-]+)(?::(\d+))?$/;var nt={parse:function(e){var t=tt.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=Qe(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}},rt=function(e){var t=e.text,n=void 0===t?"":t,r=e.isTrailing,a=void 0!==r&&r;return o.a.createElement("span",$e({},Ke,!0),n,a?"\n":null)},ot=function(e){var t,n=e.length,r=void 0===n?0:n,a=e.isLineBreak,i=void 0!==a&&a;return o.a.createElement("span",($e(t={},ze,i?"n":"z"),$e(t,qe,r),t),"\ufeff",i?o.a.createElement("br",null):null)},at=function(e){var t,n=e.marks,r=e.annotations,a=e.decorations,i=e.node,s=e.index,l=e.offset,c=e.text,u=e.editor,d=e.parent,f=e.block,p=e.leaves,v=nt.stringify({key:i.key,index:s}),h=void 0;if(u.query("isVoid",d))h=o.a.createElement(ot,{length:d.text.length});else if(""===c&&"block"===d.object&&""===d.text&&d.nodes.last()===i)h=o.a.createElement(ot,{isLineBreak:!0});else if(""===c)h=o.a.createElement(ot,null);else{var m=f.getLastText(),y=c.charAt(c.length-1),g=i===m,b=s===p.size-1;h=g&&b&&"\n"===y?o.a.createElement(rt,{isTrailing:!0,text:c}):o.a.createElement(rt,{text:c})}var C={editor:u,marks:n,annotations:r,decorations:a,node:i,offset:l,text:c},w=!0,k=!1,O=void 0;try{for(var E,x=n[Symbol.iterator]();!(w=(E=x.next()).done);w=!0){var N=E.value;(L=u.run("renderMark",Ye({},C,{mark:N,children:h,attributes:$e({},We,"mark")})))&&(h=L)}}catch(e){k=!0,O=e}finally{try{!w&&x.return&&x.return()}finally{if(k)throw O}}var D=!0,S=!1,T=void 0;try{for(var R,F=a[Symbol.iterator]();!(D=(R=F.next()).done);D=!0){var A=R.value;(L=u.run("renderDecoration",Ye({},C,{decoration:A,children:h,attributes:$e({},We,"decoration")})))&&(h=L)}}catch(e){S=!0,T=e}finally{try{!D&&F.return&&F.return()}finally{if(S)throw T}}var B=!0,I=!1,M=void 0;try{for(var j,P=r[Symbol.iterator]();!(B=(j=P.next()).done);B=!0){var L,q=j.value;(L=u.run("renderAnnotation",Ye({},C,{annotation:q,children:h,attributes:$e({},We,"annotation")})))&&(h=L)}}catch(e){I=!0,M=e}finally{try{!B&&P.return&&P.return()}finally{if(I)throw M}}var W=($e(t={},Le,!0),$e(t,Ue,v),t);return o.a.createElement("span",W,h)};at.propTypes={annotations:d.a.list.isRequired,block:c.block.isRequired,decorations:d.a.list.isRequired,editor:i.a.object.isRequired,index:i.a.number.isRequired,leaves:i.a.object.isRequired,marks:c.marks.isRequired,node:c.node.isRequired,offset:i.a.number.isRequired,parent:c.node.isRequired,text:i.a.string.isRequired};var it=o.a.memo(at,(function(e,t){return t.block===e.block&&t.index===e.index&&t.marks===e.marks&&t.parent===e.parent&&t.text===e.text&&t.annotations.equals(e.annotations)&&t.decorations.equals(e.decorations)})),st=o.a.forwardRef((function(e,t){var n,r=e.annotations,a=e.block,i=e.decorations,s=e.node,l=e.parent,c=e.editor,u=e.style,d=s.key,f=s.getLeaves(r,i),p=0;return o.a.createElement("span",Ye({ref:t,style:u},($e(n={},We,s.object),$e(n,Pe,d),n)),f.map((function(e,t){var n=e.text,r=p;return p+=n.length,o.a.createElement(it,{key:s.key+"-"+t,block:a,editor:c,index:t,annotations:e.annotations,decorations:e.decorations,marks:e.marks,node:s,offset:r,parent:l,leaves:f,text:n})})))}));st.propTypes={annotations:d.a.map.isRequired,block:c.block,decorations:d.a.list.isRequired,editor:i.a.object.isRequired,node:c.node.isRequired,parent:c.node.isRequired,style:i.a.object};var lt=o.a.memo(st,(function(e,t){return t.node===e.node&&"block"===t.parent.object&&e.parent.nodes.last()===e.node&&t.parent.nodes.last()!==t.node&&t.annotations.equals(e.annotations)&&t.decorations.equals(e.decorations)})),ct=p()("slate:void"),ut=function(e){function t(){var e,n,r;Je(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Ze(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),dt.call(r),Ze(r,n)}return Ge(t,e),Xe(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.node,a=t.readOnly,i="block"===r.object?"div":"span",s=$e({},_e,!0),l=o.a.createElement(i,Ye({style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},s),this.renderText()),c=o.a.createElement(i,{contentEditable:!!a&&null},n);this.debug("render",{props:t});var u=($e(e={},Ve,!0),$e(e,Pe,r.key),e);return o.a.createElement(i,Ye({contentEditable:!(!a&&"block"!==r.object)&&null},u),a?null:l,c)}}]),t}(o.a.Component);ut.propTypes={block:c.block,children:i.a.any.isRequired,editor:i.a.object.isRequired,node:c.node.isRequired,parent:c.node.isRequired,readOnly:i.a.bool.isRequired};var dt=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key,s=a.type,l=i+" ("+s+")";ct.apply(void 0,[t,""+l].concat(r))},this.renderText=function(){var t=e.props,n=t.annotations,r=t.block,a=t.decorations,i=t.node,s=t.readOnly,l=t.editor,c=t.textRef,u=i.getFirstText();return o.a.createElement(lt,{ref:c,annotations:n,block:"block"===i.object?i:r,decorations:a,editor:l,key:u.key,node:u,parent:i,readOnly:s})}},ft=p()("slate:node"),pt=function(e){function t(){var e,n,r;Je(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Ze(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),vt.call(r),Ze(r,n)}return Ge(t,e),Xe(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(v(!1,'As of slate-react@0.22 the `shouldNodeComponentUpdate` middleware is deprecated. You can pass specific values down the tree using React\'s built-in "context" construct instead.'),n)return!0;v(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!==o.readOnly||(r.node!==o.node||(!!(!r.selection&&o.selection||r.selection&&!o.selection||r.selection&&o.selection&&!r.selection.equals(o.selection))||(!r.annotations.equals(o.annotations)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e,n=this;this.debug("render",this);var r=this.props,a=r.annotations,i=r.block,s=r.decorations,l=r.editor,c=r.node,u=r.parent,d=r.readOnly,f=r.selection,p=c.getDecorations(l),v=c.nodes.toArray().map((function(e,r){var u="text"===e.object?lt:t,v=f&&ht(c,r,f),h=p.concat(s).map((function(e){return ht(c,r,e)})).filter((function(e){return e})),m=a.map((function(e){return ht(c,r,e)})).filter((function(e){return e}));return o.a.createElement(u,{block:"block"===c.object?c:i,editor:l,annotations:m,decorations:h,selection:v,key:e.key,node:e,parent:c,readOnly:d,ref:function(e){e?n.tmp.nodeRefs[r]=e:delete n.tmp.nodeRefs[r]}})})),h=($e(e={},We,c.object),$e(e,Pe,c.key),$e(e,"ref",this.ref),e);c.isLeafBlock()&&("rtl"===c.getTextDirection()&&(h.dir="rtl"));var m=void 0;"block"===c.object?m="renderBlock":"document"===c.object?m="renderDocument":"inline"===c.object&&(m="renderInline");var y=l.run(m,{attributes:h,children:v,editor:l,isFocused:!!f&&f.isFocused,isSelected:!!f,node:c,parent:u,readOnly:d});return l.isVoid(c)?o.a.createElement(ut,Ye({},this.props,{textRef:function(e){e?n.tmp.nodeRefs[0]=e:delete n.tmp.nodeRefs[0]}}),y):y}}]),t}(o.a.Component);pt.propTypes={annotations:d.a.map.isRequired,block:c.block,decorations:d.a.list.isRequired,editor:i.a.object.isRequired,node:c.node.isRequired,parent:c.node,readOnly:i.a.bool.isRequired,selection:c.selection};var vt=function(){var e=this;this.tmp={nodeRefs:{}},this.ref=o.a.createRef(),this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key,s=a.type;ft.apply(void 0,[t,i+" ("+s+")"].concat(r))}};function ht(e,t,n){if(n.isUnset)return null;var r=e.nodes.get(t),o=n,a=o.start,i=o.end,l=a.path,c=i.path,u=l.first(),d=c.first();if(u===t)a=a.setPath(l.rest());else if(u<t&&t<=d)if("text"===r.object)a=a.moveTo(s.j.create([t]),0).setKey(r.key);else{var f=r.texts(),p=Qe(f,1)[0],v=Qe(p,2),h=v[0],m=v[1];a=a.moveTo(m,0).setKey(h.key)}else a=null;if(d===t)i=i.setPath(c.rest());else if(u<=t&&t<d)if("text"===r.object){var y=r.text.length;i=i.moveTo(s.j.create([t]),y).setKey(r.key)}else{var g=r.texts({direction:"backward"}),b=Qe(g,1)[0],C=Qe(b,2),w=C[0],k=C[1];i=i.moveTo(k,w.text.length).setKey(w.key)}else i=null;return a&&i?n=(n=n.setAnchor(a)).setFocus(i):null}var mt=["auto","overlay","scroll"],yt=te&&!!window.navigator.userAgent.match(/os 11_/i);function gt(e){if(!yt&&e.anchorNode){var t=m()(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(mt.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n===t.document.body||n===t.document.documentElement,o=g()(e),a=e.getRangeAt(0).cloneRange();a.collapse(o);var i=a.getBoundingClientRect();G&&a.collapsed&&0===i.top&&0===i.height&&(0===a.startOffset?a.setEnd(a.endContainer,1):a.setStart(a.startContainer,a.startOffset-1),0===(i=a.getBoundingClientRect()).top&&0===i.height&&a.getClientRects().length&&(i=a.getClientRects()[0]));var s=void 0,l=void 0,c=void 0,u=void 0,d=0,f=0,p=0,v=0,h=0,y=0,b=0,C=0;if(r){s=t.innerWidth,l=t.innerHeight,c=t.pageYOffset,u=t.pageXOffset}else{var w=n.offsetWidth,k=n.offsetHeight,O=n.scrollTop,E=n.scrollLeft,x=t.getComputedStyle(n),N=x.borderTopWidth,D=x.borderBottomWidth,S=x.borderLeftWidth,T=x.borderRightWidth,R=x.paddingTop,F=x.paddingBottom,A=x.paddingLeft,B=x.paddingRight,I=n.getBoundingClientRect();s=w,l=k,d=I.top+parseInt(N,10),f=I.left+parseInt(S,10),p=parseInt(N,10)+parseInt(D,10),v=parseInt(S,10)+parseInt(T,10),h=parseInt(R,10),y=parseInt(F,10),b=parseInt(A,10),C=parseInt(B,10),c=O,u=E}var M=i.top+c-d,j=i.left+u-f,P=u,L=c;j<u?P=j-b:j+i.width+v>u+s&&(P=j+v+C-s),M<c?L=M-h:M+i.height+p>c+l&&(L=M+p+y+i.height-l),r?t.scrollTo(P,L):(n.scrollTop=L,n.scrollLeft=P)}}function bt(e){if(Z){var t=window.document.body.createTextRange();t.collapse(),t.select()}else e.removeAllRanges()}var Ct=/Permission denied to access property "nodeType"/,wt=p()("slate:content");wt.update=p()("slate:update");var kt=function(e){function t(){var e,n,r;Je(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=Ze(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.tmp={isUpdatingSelection:!1,nodeRef:o.a.createRef(),nodeRefs:{},contentKey:0,nativeSelection:{}},r.ref=o.a.createRef(),r.setRef=function(e){r.ref.current=e,r.props.editor.el=e},r.handlers=Ie.reduce((function(e,t){return e[t]=function(e){return r.onEvent(t,e)},e}),{}),r.updateSelection=function(){var e=r.props.editor,t=e.value.selection,n=t.isBackward,o=m()(r.ref.current),a=o.getSelection(),i=o.document.activeElement;if(wt.update.enabled&&wt.update("updateSelection",{selection:t.toJSON()}),a){var s=a.rangeCount,l=a.anchorNode,c=!1;t.isBlurred&&i===r.ref.current&&(r.ref.current.blur(),c=!0);var u=!0,d=!0,f=!1,p=void 0;try{for(var h,y=["anchorNode","anchorOffset","focusNode","focusOffset","isCollapsed","rangeCount","type"][Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value;r.tmp.nativeSelection[g]!==a[g]&&(u=!1)}}catch(e){f=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(f)throw p}}if(t.isUnset&&s&&r.isInEditor(l)&&u&&(bt(a),c=!0),t.isFocused&&i!==r.ref.current&&(r.ref.current.focus({preventScroll:!0}),c=!0),t.isFocused&&t.isSet){var b=!!a.rangeCount&&a.getRangeAt(0),C=e.findDOMRange(t);if(!C)return void v(!1,"Unable to find a native DOM range from the current selection.");var w=C.startContainer,k=C.startOffset,O=C.endContainer,E=C.endOffset;if(b&&(w===b.startContainer&&k===b.startOffset&&O===b.endContainer&&E===b.endOffset||w===b.endContainer&&k===b.endOffset&&O===b.startContainer&&E===b.startOffset))return;c=!0,r.tmp.isUpdatingSelection=!0,bt(a),a.setBaseAndExtent?n?a.setBaseAndExtent(C.endContainer,C.endOffset,C.startContainer,C.startOffset):a.setBaseAndExtent(C.startContainer,C.startOffset,C.endContainer,C.endOffset):a.addRange(C),!0===e.userActionPerformed()&&gt(a),setTimeout((function(){Y&&r.ref.current&&r.ref.current.focus(),r.tmp.isUpdatingSelection=!1,wt.update("updateSelection:setTimeout",{anchorOffset:o.getSelection().anchorOffset})}))}c&&(wt.enabled||wt.update.enabled)&&(wt("updateSelection",{selection:t,native:a,activeElement:i}),wt.update("updateSelection:applied",{selection:t.toJSON(),native:{anchorOffset:a.anchorOffset,focusOffset:a.focusOffset}}))}},r.isInEditor=function(e){var t=void 0;try{if(8===e.nodeType)return!1;t=3===e.nodeType?e.parentNode:e}catch(e){if(Y&&Ct.test(e.message))return!1;throw e}return t.isContentEditable&&(t===r.ref.current||t.closest(He.EDITOR)===r.ref.current)},r.onNativeSelectionChange=ie()((function(e){if(!r.props.readOnly){var t=m()(e.target),n=t.document.activeElement,o=t.getSelection();wt.update("onNativeSelectionChange",{anchorOffset:o.anchorOffset}),n===r.ref.current&&(r.tmp.nativeSelection={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset,isCollapsed:o.isCollapsed,rangeCount:o.rangeCount,type:o.type},r.props.onEvent("onSelect",e))}}),100),Ze(r,n)}return Ge(t,e),Xe(t,[{key:"componentDidCatch",value:function(e,t){wt("componentDidCatch",{error:e,info:t}),this.setState({})}},{key:"componentDidMount",value:function(){m()(this.ref.current).document.addEventListener("selectionchange",this.onNativeSelectionChange),oe&&this.ref.current.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection(),this.props.onEvent("onComponentDidMount")}},{key:"componentWillUnmount",value:function(){var e=m()(this.ref.current);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),oe&&this.ref.current.removeEventListener("beforeinput",this.handlers.onBeforeInput),this.props.onEvent("onComponentWillUnmount")}},{key:"componentDidUpdate",value:function(){wt.update("componentDidUpdate"),this.updateSelection(),this.props.editor.clearUserActionPerformed(),this.props.onEvent("onComponentDidUpdate")}},{key:"onEvent",value:function(e,t){wt("onEvent",e);var n=t.nativeEvent||t,r="keydown"===t.type&&(ye.isUndo(n)||ye.isRedo(n));if(!this.tmp.isUpdatingSelection&&!r||"onSelect"!==e&&"onBlur"!==e&&"onFocus"!==e){if(!ee&&"onSelect"===e){var o=this.props.editor,a=o.value.selection,i=m()(t.target).getSelection(),s=o.findRange(i);if(s&&s.equals(a.toRange()))return void this.updateSelection()}if("onDragEnd"===e||"onDragEnter"===e||"onDragExit"===e||"onDragLeave"===e||"onDragOver"===e||"onDragStart"===e||"onDrop"===e)if(t.target.closest(He.EDITOR)!==this.ref.current)return;("onBeforeInput"!==e&&"onBlur"!==e&&"onCompositionEnd"!==e&&"onCompositionStart"!==e&&"onCopy"!==e&&"onCut"!==e&&"onFocus"!==e&&"onInput"!==e&&"onKeyDown"!==e&&"onKeyUp"!==e&&"onPaste"!==e&&"onSelect"!==e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e,n=this.props,r=this.handlers,a=n.id,i=n.className,s=n.readOnly,l=n.editor,c=n.tabIndex,u=n.role,d=n.tagName,f=n.spellCheck,p=l.value,v=d,h=p.document,m=p.selection,y=Ye({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},s?{}:{WebkitUserModify:"read-write-plaintext-only"},n.style);wt("render",{props:n}),wt.update("render",this.tmp.contentKey,h.text),this.props.onEvent("onRender");var g=($e(e={},Me,!0),$e(e,Pe,h.key),e),b=le()(this.props,Object.keys(t.propTypes));return o.a.createElement(v,Ye({},b,{key:this.tmp.contentKey},r,g,{ref:this.setRef,contentEditable:!s||null,suppressContentEditableWarning:!0,id:a,className:i,autoCorrect:n.autoCorrect?"on":"off",spellCheck:f,style:y,role:s?null:u||"textbox",tabIndex:c,"data-gramm":!!b["data-gramm"]&&void 0}),o.a.createElement(pt,{annotations:p.annotations,block:null,decorations:Object(ce.List)(),editor:l,node:h,parent:null,readOnly:s,selection:m,ref:this.tmp.nodeRef}))}}]),t}(o.a.Component);kt.propTypes={autoCorrect:i.a.bool.isRequired,className:i.a.string,contentKey:i.a.number,editor:i.a.object.isRequired,id:i.a.string,onEvent:i.a.func.isRequired,readOnly:i.a.bool.isRequired,role:i.a.string,spellCheck:i.a.bool.isRequired,style:i.a.object,tabIndex:i.a.number,tagName:i.a.string},kt.defaultProps={style:{},tagName:"div"};var Ot=[].concat(et(Ie),["commands","decorateNode","queries","renderAnnotation","renderBlock","renderDecoration","renderDocument","renderEditor","renderInline","renderMark","schema"]);function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ot.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{});return t}function xt(){return{decorateNode:function(){return[]},renderAnnotation:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",t,n)},renderBlock:function(e){var t=e.attributes,n=e.children;return o.a.createElement("div",Ye({},t,{style:{position:"relative"}}),n)},renderDecoration:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",t,n)},renderDocument:function(e){return e.children},renderEditor:function(e){return e.children},renderInline:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",Ye({},t,{style:{position:"relative"}}),n)},renderMark:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",t,n)}}}function Nt(){return{queries:{findDOMNode:function(e,t){t=s.j.create(t);var n=e.tmp.contentRef.current;return n?t.size?function e(t,n){if(!t)return null;if(!n.size)return t.ref?t.ref.current||null:t||null;var r=n.first(),o=n.rest();return e(t.tmp.nodeRefs[r],o)}(n.tmp.nodeRef.current,t):n.ref.current||null:null},findDOMPoint:function(e,t){var n=e.findDOMNode(t.path),r=0;if(!n)return null;var o=Array.from(n.querySelectorAll(He.STRING+", "+He.ZERO_WIDTH)),a=!0,i=!1,s=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value,d=u.childNodes[0],f=d.textContent.length,p=f;u.hasAttribute(qe)&&(p=parseInt(u.getAttribute(qe),10));var v=r+p;if(t.offset<=v)return{node:d,offset:Math.min(f,Math.max(0,t.offset-r))};r=v}}catch(e){i=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw s}}return null},findDOMRange:function(e,t){var n=t.anchor,r=t.focus,o=t.isBackward,a=t.isCollapsed,i=e.findDOMPoint(n),s=a?i:e.findDOMPoint(r);if(!i||!s)return null;var l=m()(i.node).document.createRange(),c=o?s:i,u=o?i:s;return l.setStart(c.node,c.offset),l.setEnd(u.node,u.offset),l},findEventRange:function(e,t){t.nativeEvent&&(t=t.nativeEvent);var n=t,r=n.clientX,o=n.clientY,a=n.target;if(null==r||null==o)return null;var i=e.value.document,s=e.findPath(t.target);if(!s)return null;var l=i.getNode(s);if(e.isVoid(l)){var c=a.getBoundingClientRect(),u="inline"===l.object?r-c.left<c.left+c.width-r:o-c.top<c.top+c.height-o,d=i.createRange(),f=u?"moveToEndOfNode":"moveToStartOfNode",p=i[u?"getPreviousText":"getNextText"](s);return p?d[f](p):null}var v=m()(a),h=void 0;if(v.document.caretRangeFromPoint)h=v.document.caretRangeFromPoint(r,o);else if(v.document.caretPositionFromPoint){var y=v.document.caretPositionFromPoint(r,o);(h=v.document.createRange()).setStart(y.offsetNode,y.offset),h.setEnd(y.offsetNode,y.offset)}else if(v.document.body.createTextRange){h=v.document.body.createTextRange();try{h.moveToPoint(r,o)}catch(e){return null}}return e.findRange(h)},findNode:function(e,t){var n=e.findPath(t);return n?e.value.document.getNode(n):null},findPath:function(e,t){var n=e.tmp.contentRef.current,r=t;if(r.hasAttribute(Pe)||(r=r.closest(He.KEY)),!r||!r.getAttribute(Pe))return null;if(r===n.ref.current)return s.j.create([]);var o=function e(t,n){if(r===t)return n;if(!t.ref)return null;if(r===t.ref.current)return n;if(!t.tmp)return null;var o=t.tmp.nodeRefs,a=Object.keys(o),i=!0,s=!1,l=void 0;try{for(var c,u=a[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value,f=o[d],p=parseInt(d,10),v=e(f,[].concat(et(n),[p]));if(v)return v}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}return null}(n.tmp.nodeRef.current,[]);return o?s.j.create(o):null},findPoint:function(e,t,n){var r=function(e,t){if(1===e.nodeType&&e.childNodes.length){var n=t===e.childNodes.length,r=n?"backward":"forward";for(e=Dt(e,n?t-1:t,r);1===e.nodeType&&e.childNodes.length;){var o=n?e.childNodes.length-1:0;e=Dt(e,o,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(t,n),o=r.node,a=r.offset,i=m()(t),s=o.parentNode,l=s.closest(He.LEAF),c=void 0,u=void 0,d=void 0;if(l){c=l.closest(He.TEXT);var f=i.document.createRange();f.setStart(c,0),f.setEnd(o,a);var p=f.cloneContents(),v=p.querySelectorAll(He.ZERO_WIDTH);Array.from(v).forEach((function(e){e.parentNode.removeChild(e)})),u=p.textContent.length,d=c}else{var h=s.closest(He.VOID);if(!h)return null;if(!(l=h.querySelector(He.LEAF)))return null;c=l.closest(He.TEXT),u=(d=l).textContent.length}u===d.textContent.length&&s.hasAttribute(ze)&&u--;var y=e.findPath(c);return y?e.value.document.createPoint({path:y,offset:u}):null},findRange:function(e,t){var n=t.anchorNode||t.startContainer;if(!n)return null;var r=m()(n);(t instanceof r.Range||r.StaticRange&&t instanceof r.StaticRange)&&(t={anchorNode:t.startContainer,anchorOffset:t.startOffset,focusNode:t.endContainer,focusOffset:t.endOffset});var o=t,a=o.anchorNode,i=o.anchorOffset,s=o.focusNode,l=o.focusOffset,c=o.isCollapsed,u=e.value,d=e.findPoint(a,i),f=c?d:e.findPoint(s,l);return d&&f?u.document.createRange({anchor:d,focus:f}):null},findSelection:function(e,t){var n=e.value,r=n.document;if(!t.rangeCount)return null;var o=e.findRange(t);if(!o)return null;var a=o,i=a.anchor,l=a.focus,c=r.getNode(i.path),u=r.getNode(l.path),d=r.getClosestInline(i.path),f=r.getClosestInline(l.path),p=r.getClosestBlock(l.path),v=r.getClosestBlock(i.path);if(v&&!e.isVoid(v)&&0===i.offset&&p&&e.isVoid(p)&&0!==l.offset&&(o=o.setFocus(l.setOffset(0))),d&&!e.isVoid(d)&&i.offset===c.text.length){var h=r.getClosestBlock(i.path),m=r.getDepth(h.key),y=s.j.drop(i.path,m),g=h.texts({path:y}),b=Qe(g,1)[0];if(b){var C=Qe(b,2)[1],w=i.path.slice(0,m).concat(C);o=o.moveAnchorTo(w,0)}}if(f&&!e.isVoid(f)&&l.offset===u.text.length){var k=r.getClosestBlock(l.path),O=r.getDepth(k.key),E=s.j.drop(l.path,O),x=k.texts({path:E}),N=Qe(x,1)[0];if(N){var D=Qe(N,2)[1],S=l.path.slice(0,O).concat(D);o=o.moveFocusTo(S,0)}}var T=r.createSelection(o);return T=(T=T.setIsFocused(!0)).set("marks",n.selection.marks)}}}}function Dt(e,t,n){for(var r=e.childNodes,o=r[t],a=t,i=!1,s=!1;(8===o.nodeType||1===o.nodeType&&0===o.childNodes.length||1===o.nodeType&&"false"===o.getAttribute("contenteditable"))&&(!i||!s);)a>=r.length?(i=!0,a=t-1,n="backward"):a<0?(s=!0,a=t+1,n="forward"):(o=r[a],"forward"===n&&a++,"backward"===n&&a--);return o||null}function St(e,t){if(e===t)return null;var n=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length!==t.length?n:null}(e,t),r=function(e,t,n){for(var r=e.length,o=t.length,a=Math.min(r,o,n),i=0;i<a;i++){if(e.charAt(r-i-1)!==t.charAt(o-i-1))return i}return e.length!==t.length?a:null}(e,t,Math.min(e.length-n,t.length-n));return{start:n,end:r,total:n+r}}function Tt(e,t){return e.slice(t.start,e.length-t.end)}var Rt=p()("slate:composition-manager"),Ft=String.fromCharCode(65279),At=be.a.unstable_flushControlled;function Bt(e,t){At((function(){t(),e.controller.flush()}))}function It(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t,o=e,a=0;-1!==a&&-1!==(a=o.indexOf(Ft,a));)r>a&&r--,o=""+o.slice(0,a)+o.slice(a+1);var i=o.charAt(o.length-1);n&&"\n"===i&&(o=o.slice(0,-1));var s=o.length;return r>s&&(r=s),{text:o,offset:r}}function Mt(e){var t=new window.MutationObserver((function(e){var t;Rt("flush"),(t=l).push.apply(t,et(e)),d()})),n=null,r={rootEl:null,diff:null,range:null,domNode:null};function o(){Rt("clearAction"),r.diff=null,r.domNode=null}function a(){Rt("applyDiff");var t=r.diff;if(null!=t){Rt("applyDiff:run");var n=e.value.document,o=e.value.selection.moveAnchorTo(t.path,t.start).moveFocusTo(t.path,t.end);o=n.resolveRange(o),e.insertTextAtRange(o,t.insertText)}}function i(){Rt("splitBlock"),Bt(e,(function(){a(),r.range?e.select(r.range):Rt("splitBlock:NO-SELECTION"),e.splitBlock().focus().restoreDOM(),o()}))}var s=null,l=[],c=null,u=!1;function d(){s&&(window.cancelAnimationFrame(s),s=null),u=!0,c&&window.cancelAnimationFrame(c),c=window.requestAnimationFrame((function(){l.length>0&&function(t){if(Rt("flushAction",t.length,t),r.range&&!r.range.isCollapsed)return void Bt(e,(function(){e.select(r.range).deleteBackward().focus().restoreDOM()}));if(t.length>1){if(t.find((function(t){if("childList"!==t.type)return!1;if(0===t.addedNodes.length)return!1;var n=t.addedNodes[0];if(n.nodeType===window.Node.TEXT_NODE&&"\n"===n.textContent)return!0;if(n.nodeType!==window.Node.ELEMENT_NODE)return!1;var r=n.dataset.key;return null!=r&&!!e.value.document.getClosestBlock(r)})))return void i()}var s=t[0];"characterData"===s.type?function(t){Rt("resolveDOMNode");var n=e.value.document,o=t.closest("[data-key]").dataset.key,a=n.getPath(o),i=n.getClosestBlock(o),s=n.getDescendant(o),l=s.text,c=i.nodes.last()===s,u=It(t.textContent,0,c).text;if(u===l)return void(r.diff=null);var d=function(e,t){var n=St(e,t);if(null==n)return null;var r=Tt(t,n),o=Tt(e,n);return{start:n.start,end:e.length-n.end,cursor:n.start+r.length,insertText:r,removeText:o}}(l,u);r.diff={path:a,start:d.start,end:d.end,insertText:d.insertText},Rt("resolveDOMNode:diff",r.diff)}(s.target.parentNode):"childList"===s.type&&(s.removedNodes.length>0?1===t.length?function(t){if(Rt("removeNode"),t.nodeType!==window.Node.ELEMENT_NODE)return;var n=e.value,r=n.document,o=n.selection,a=e.findNode(t),i=r.resolveRange(o.moveToRangeOfNode(a));Bt(e,(function(){e.select(i).delete().restoreDOM()}))}(s.removedNodes[0]):(Rt("mergeBlock"),n.requestAnimationFrame((function(){Bt(e,(function(){a(),e.select(r.range).deleteBackward().focus().restoreDOM(),o()}))}))):s.addedNodes.length>0&&i())}(l),c=null,l=[],u=!1}))}return{clearDiff:function(){Rt("clearDIff"),r.diff=null},connect:function(){Rt("connect",{rootEl:o});var o=e.findDOMNode([]);r.rootEl!==o&&(Rt("connect:run"),n=m()(o),t.observe(o,{childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0}))},disconnect:function(){Rt("disconnect"),t.disconnect(),r.rootEl=null},onKeyDown:d,onCompositionStart:function(){Rt("onCompositionStart")},onCompositionEnd:function(){Rt("onCompositionEnd"),window.setTimeout((function(){r.diff&&(Rt("onCompositionEnd:applyDiff"),Bt(e,(function(){a();var t=n.getSelection().getRangeAt(0),r=It(t.startContainer.textContent,t.startOffset),o=e.findRange({anchorNode:t.startContainer,anchorOffset:0,focusNode:t.startContainer,focusOffset:0,isCollapsed:!0}).moveTo(r.offset);e.select(o).focus().restoreDOM()}))),o()}),20)},onSelect:function(t){Rt("onSelect:try"),t=t.nativeEvent?t.nativeEvent:t,window.cancelAnimationFrame(s),s=null,u||(s=window.requestAnimationFrame((function(){Rt("onSelect:save-selection");var n,i=m()(t.target).getSelection(),s=e.findRange(i),l=It(i.anchorNode.textContent,i.anchorOffset),c=It(i.focusNode.textContent,i.focusOffset);s.anchor.offset!==l.offset&&(s=s.set("anchor",s.anchor.set("offset",l.offset))),s.focus.offset!==c.offset&&(s=s.set("focus",s.focus.set("offset",c.offset))),Rt("onSelect:save-data",{domSelection:(n=i,{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),range:s.toJS()}),i.isCollapsed&&r.node!==i.anchorNode&&null!=r.diff&&(Rt("onSelect:applyDiff",r.diff),a(),e.select(s),o()),r.range=s,r.node=i.anchorNode})))}}}function jt(e){var t=new Mt(e.editor);return{onComponentDidMount:function(){t.connect()},onComponentDidUpdate:function(){t.connect()},onComponentWillUnmount:function(){t.disconnect()},onCompositionEnd:function(){t.onCompositionEnd()},onCompositionStart:function(){t.onCompositionStart()},onRender:function(){t.disconnect(),t.clearDiff()},onSelect:function(e){!function(e){var t=e.getSelection(),n=t.anchorNode;if(null!=n){var r=n.parentElement.dataset;if(!!r&&"n"===r.slateZeroWidth&&1===n.textContent.length&&0!==t.anchorOffset){var o=e.document.createRange();o.setStart(n,0),o.setEnd(n,0),t.removeAllRanges(),t.addRange(o)}}}(m()(e.target)),t.onSelect(e)}}}function Pt(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Ie[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){e[o.value]=function(e,t,n){}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return e}var Lt={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"},qt=Lt.FRAGMENT,Wt=Lt.HTML,Ut=Lt.TEXT;function _t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Object(xe.a)(!s.n.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var r=m()(e.target),o=r.getSelection(),a=t.value,i=a.document,l=a.fragment,c=a.selection,u=c.start,d=c.end,f=i.getClosestVoid(u.path,t),p=i.getClosestVoid(d.path,t);if(!o.isCollapsed||f){var v=Oe.serializeNode(l),h=o.getRangeAt(0),y=h.cloneContents(),g=y.childNodes[0];if(y.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(g=e)})),p){var b=h.cloneRange(),C=i.getPath(p.key);if(C){var w=t.findDOMNode(C);b.setEndAfter(w),y=b.cloneContents()}}if(f&&(g=y.childNodes[0].childNodes[1].firstChild),[].slice.call(y.querySelectorAll(He.ZERO_WIDTH)).forEach((function(e){var t="n"===e.getAttribute(ze);e.textContent=t?"\n":""})),3===g.nodeType){var k=r.document.createElement("span");k.style.whiteSpace="pre",k.appendChild(g),y.appendChild(k),g=k}g.setAttribute(je,v);var O=s.n.create({document:l}),E=Ee.a.serialize(O),x=r.document.createElement("div");if(x.appendChild(y),e.clipboardData&&e.clipboardData.setData&&!Z)return e.preventDefault(),e.clipboardData.setData(Ut,E),e.clipboardData.setData(qt,v),e.clipboardData.setData(Wt,x.innerHTML),void n();var N=e.target.closest(He.EDITOR);x.setAttribute("contenteditable",!0),x.style.position="absolute",x.style.left="-9999px",N.appendChild(x),o.selectAllChildren(x),r.requestAnimationFrame((function(){N.removeChild(x),bt(o),o.addRange(h),n()}))}}var Kt=Lt.FRAGMENT,Vt=Lt.HTML,zt=Lt.NODE,Ht=Lt.RICH,Jt=Lt.TEXT,Xt=/ data-slate-fragment="([^\s"]+)"/;function $t(e){!Z&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=Yt(t,Kt),r=Yt(t,zt),o=Yt(t,Vt),a=Yt(t,Ht),i=Yt(t,Jt),s=void 0;if(!n&&o&&~o.indexOf(" "+je+'="')){var l=Xt.exec(o),c=Qe(l,2),u=(c[0],c[1]);u&&(n=u)}if(i){var d=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!==t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(e){throw new Error("Unable to parse custom Slate drag event data.")}}(i);d[Kt]&&(n=d[Kt]),d[zt]&&(r=d[zt]),d[Jt]&&(i=d[Jt])}n&&(n=Oe.deserializeNode(n)),r&&(r=Oe.deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map((function(e){return"file"===e.kind?e.getAsFile():null})).filter((function(e){return e})):t.files&&t.files.length&&(s=Array.from(t.files))}catch(e){t.files&&t.files.length&&(s=Array.from(t.files))}var f={files:s,fragment:n,html:o,node:r,rich:a,text:i};return f.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(f),f}function Yt(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t===Jt&&e.getData("Text")||null}var Gt=Lt.TEXT;function Zt(e,t,n){var r=Lt[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(e){var a="SLATE-DATA-EMBED::",i=o.getData(Gt),s={};if(i.substring(0,a.length)===a)try{s=JSON.parse(i.substring(a.length))}catch(e){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[Gt]=i;s[r]=n;var l=""+a+JSON.stringify(s);o.setData(Gt,l)}}var Qt=p()("slate:after");function en(){var e=null,t=!1;return{onBeforeInput:function(e,t,n){var r=t.value;if(!!e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),a=Qe(o,1)[0];if(!a)return n();Qt("onBeforeInput",{event:e}),e.preventDefault();var i=r.document,s=r.selection,l=t.findRange(a);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(l);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(l);break;case"deleteWordForward":t.deleteWordForwardAtRange(l);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(l);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(l);break;case"insertLineBreak":case"insertParagraph":i.hasVoidParent(s.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(l);break;case"insertFromYank":case"insertReplacementText":case"insertText":var c=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==c)break;t.insertTextAtRange(l,c,s.marks),s.marks&&r.document!==t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){Qt("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=t.findPath(e.target);if(!o)return n();Qt("onClick",{event:e});var a=r.getNode(o),i=r.getAncestors(o);a&&(t.isVoid(a)||i.some((function(e){return t.isVoid(e)})))&&t.focus().moveToEndOfNode(a),n()},onCopy:function(e,t,n){Qt("onCopy",{event:e}),_t(e,t),n()},onCut:function(e,t,n){Qt("onCut",{event:e}),_t(e,t,(function(){var e=t.value,n=e.document,r=e.selection,o=r.end,a=void 0;if(r.isCollapsed){var i=!0,s=!1,l=void 0;try{for(var c,u=n.ancestors(o.path)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value,f=Qe(d,2),p=f[0],v=f[1];if(t.isVoid(p)){a=v;break}}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}}a?t.removeNodeByKey(a):t.delete()})),n()},onDragEnd:function(t,n,r){Qt("onDragEnd",{event:t}),e=null,r()},onDragStart:function(t,n,r){Qt("onDragStart",{event:t}),e=!0;var o=n.value,a=o.document,i=n.findPath(t.target),s=a.getNode(i),l=a.getAncestors(i),c=s&&(n.isVoid(s)||l.some((function(e){return n.isVoid(e)}))),u=o.blocks.some((function(e){return e===s}));c&&!u&&n.moveToRangeOfNode(s);var d=n.value.fragment;Zt(t,"fragment",Oe.serializeNode(d)),r()},onDrop:function(t,n,r){var o=n.value,a=o.document,i=o.selection,s=m()(t.target),l=n.findEventRange(t);if(!l)return r();Qt("onDrop",{event:t});var c=$t(t),u=c.type,d=c.fragment,f=c.text;n.focus();var p=n.findDOMNode(l.focus.path);p&&p.dispatchEvent(new MouseEvent("mouseup",{view:s,bubbles:!0,cancelable:!0}));var v=i;if(n.select(l),e&&n.deleteAtRange(v),"text"===u||"html"===u){var h=l.anchor,y=a.hasVoidParent(h.path,n);if(y){for(var g=h.path,b=a.getNode(h.path);y;){var C=a.texts({path:g}),w=Qe(C,1)[0];if(!w)break;var k=Qe(w,2);b=k[0],g=k[1],y=a.hasVoidParent(g,n)}b&&n.moveToStartOfNode(b)}f&&f.split("\n").forEach((function(e,t){t>0&&n.splitBlock(),n.insertText(e)}))}"fragment"===u&&n.insertFragment(d),r()},onFocus:function(e,n,r){Qt("onFocus",{event:e}),!t||Z||Q?n.focus():n.deselect().focus(),r()},onInput:function(e,t,n){Qt("onInput");var r=m()(e.target).getSelection(),o=t.findSelection(r);o?t.select(o):t.blur();var a=r.anchorNode;t.reconcileDOMNode(a),n()},onKeyDown:function(e,t,n){Qt("onKeyDown",{event:e});var r=t.value,o=r.document,a=r.selection,i=a.start,s=o.hasVoidParent(i.path,t);if(ye.isSplitBlock(e)&&!te)return s?t.moveToStartOfNextText():t.splitBlock();if(ye.isDeleteBackward(e)&&!te)return t.deleteCharBackward();if(ye.isDeleteForward(e)&&!te)return t.deleteCharForward();if(ye.isDeleteLineBackward(e))return t.deleteLineBackward();if(ye.isDeleteLineForward(e))return t.deleteLineForward();if(ye.isDeleteWordBackward(e))return t.deleteWordBackward();if(ye.isDeleteWordForward(e))return t.deleteWordForward();if(ye.isRedo(e))return t.redo();if(ye.isUndo(e))return t.undo();if(ye.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(ye.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(ye.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(ye.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(ye.isMoveBackward(e))return e.preventDefault(),a.isCollapsed?t.moveBackward():t.moveToStart();if(ye.isMoveForward(e))return e.preventDefault(),a.isCollapsed?t.moveForward():t.moveToEnd();if(ye.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(ye.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(ye.isExtendBackward(e)){var l=o.getNode(i.path),c=o.texts({path:i.path,direction:"backward"}),u=Qe(c,1)[0],d=!1;if(u){var f=Qe(u,2)[1];d=o.hasVoidParent(f,t)}if(s||d||""===l.text)return e.preventDefault(),t.moveFocusBackward()}if(ye.isExtendForward(e)){var p=o.getNode(i.path),v=o.texts({path:i.path}),h=Qe(v,1)[0],m=!1;if(h){var y=Qe(h,2)[1];m=o.hasVoidParent(y,t)}if(s||m||""===p.text)return e.preventDefault(),t.moveFocusForward()}n()},onMouseDown:function(e,n,r){Qt("onMouseDown",{event:e}),t=!0,r()},onMouseUp:function(e,n,r){Qt("onMouseUp",{event:e}),t=!1,r()},onPaste:function(e,t,n){Qt("onPaste",{event:e});var r=t.value,o=$t(e),a=o.type,i=o.fragment,s=o.text;if("fragment"===a&&t.insertFragment(i),"text"===a||"html"===a){if(!s)return n();var l=r.document,c=r.selection,u=r.startBlock;if(t.isVoid(u))return n();var d=u,f=l.getInsertMarksAtRange(c),p=Ee.a.deserialize(s,{defaultBlock:d,defaultMarks:f}).document;t.insertFragment(p)}n()},onSelect:function(e,n,r){Qt("onSelect",{event:e});var o=m()(e.target).getSelection(),a=n.findSelection(o);a?n.select(a):n.blur(),t=!1,r()}}}var tn=p()("slate:before");function nn(){var e=null,t=0,n=!1,r=!1,o=!1,a=!1;return{onBeforeInput:function(e,t,n){var r=!!e.nativeEvent;t.readOnly||(a=!0,r&&oe||(tn("onBeforeInput",{event:e}),n()))},onBlur:function(t,n,o){if(!r&&!n.readOnly){var a=t.relatedTarget,i=t.target,s=m()(i);if(e!==s.document.activeElement){if(a){var l=n.findDOMNode([]);if(a===l)return;if(a.hasAttribute(_e))return;var c=n.findNode(a);if(l.contains(a)&&c&&!n.isVoid(c))return}tn("onBlur",{event:t}),o()}}},onClick:function(e,t,n){tn("onClick",{event:e}),a=!0,n()},onCompositionEnd:function(e,r,o){var i=t;a=!0,window.requestAnimationFrame((function(){t>i||(n=!1)})),tn("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++;var i=r.value.selection;a=!0,i.isCollapsed||r.delete(),tn("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var o=m()(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),tn("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.readOnly){var o=m()(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),tn("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){o=!1,tn("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){tn("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){tn("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){tn("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=t.findNode(e.target);r&&!t.isVoid(r)||e.preventDefault(),Z&&e.preventDefault(),o||(o=!0,Z||(e.nativeEvent.dataTransfer.dropEffect="move")),tn("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){o=!0,tn("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.readOnly||(a=!0,e.preventDefault(),tn("onDrop",{event:e}),n())},onFocus:function(t,n,o){if(!r&&!n.readOnly){var a=n.findDOMNode([]),i=m()(t.target);e=i.document.activeElement,Y&&t.target!==a?a.focus():(tn("onFocus",{event:t}),o())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(a=!0,tn("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.readOnly||(n?ye.isCompose(e)&&e.preventDefault():(!te&&(ye.isBold(e)||ye.isDeleteBackward(e)||ye.isDeleteForward(e)||ye.isDeleteLineBackward(e)||ye.isDeleteLineForward(e)||ye.isDeleteWordBackward(e)||ye.isDeleteWordForward(e)||ye.isItalic(e)||ye.isRedo(e)||ye.isSplitBlock(e)||ye.isTransposeCharacter(e)||ye.isUndo(e))&&e.preventDefault(),a=!0,tn("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.readOnly||(a=!0,e.preventDefault(),tn("onPaste",{event:e}),n())},onSelect:function(t,o,i){if(!r&&!n&&!o.readOnly){var s=m()(t.target);e=s.document.activeElement,a=!0,tn("onSelect",{event:t}),i()}},queries:{userActionPerformed:function(){return a}},commands:{clearUserActionPerformed:function(){return a=!1,null}}}}function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t,r=nn(),o=en(),a=ee?[jt(e),Pt()]:[];return[].concat(a,[r],et(n),[o])}function on(e){var t=e.nativeEvent||e;switch(t.type){case"keydown":return t.type+" "+JSON.stringify(t.key);case"input":case"beforeinput":case"textInput":return t.type+":"+t.inputType+" "+JSON.stringify(t.data);default:return t.type}}var an=p()("slate:events");function sn(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Ie[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){e[o.value]=function(e,t,n){var r=on(e);an(r),n()}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return e}var ln=p()("slate:batch-events");function cn(){var e=null,t=null,n=[];function r(){ln("\n"+n.join("\n")),n.length=0}function o(o){0===n.length&&(e=new Date);var a=on(o),i=new Date;n.push("- "+(i-e)+" - "+a),clearTimeout(t),t=setTimeout(r,2e3)}var a={},i=!0,s=!1,l=void 0;try{for(var c,u=Ie[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){a[c.value]=function(e,t,n){o(e),n()}}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}return a}var un=p()("slate:mutations"),dn=["type","oldValue","target","addedNodes","removedNodes","attributeName","attributeNamespace","nextSibling","previousSibling"];function fn(e){if(e.nodeType===window.Node.TEXT_NODE)return e.textContent;if(e.nodeType===window.Node.ELEMENT_NODE){var t=e.outerHTML,n=e.innerHTML;return null==t?JSON.stringify(e.textContent):t.slice(0,t.indexOf(n))}return"Node(type="+e.nodeType}function pn(){var e=new window.MutationObserver((function(e){var t=Array.from(e).map((function(e){var t={};return dn.forEach((function(n){var r=e[n];if(null!=r)if(r instanceof window.NodeList){if(0===r.length)return;t[n]=Array.from(r).map(fn).join(", ")}else r instanceof window.Node&&(r=fn(r)),t[n]=r})),t}));un.apply(void 0,[t.length+" Mutations"].concat(et(t)))})),t=null;function n(n,r,o){var a=r.findDOMNode([]);if(a===t)return o();un("start"),e.observe(a,{childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0}),t=a,o()}return{onComponentDidMount:n,onComponentDidUpdate:n,onComponentWillUnmount:function(n,r,o){un("stop"),e.disconnect(),t=null,o()}}}function vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.placeholder,n=void 0===t?"":t,r=p.a.enabled("slate:events")?sn():null,o=p.a.enabled("slate:batch-events")?cn():null,a=p.a.enabled("slate:mutations")?pn():null,i=xt(),s={commands:{reconcileNode:function(e,t){var n=e.value,r=n.document,o=n.selection,a=r.getPath(t.key),i=e.findDOMNode(a),s=r.getClosestBlock(a),l=t.text,c=i.textContent,u=s.nodes.last()===t,d=c.charAt(c.length-1);if(u&&"\n"===d&&(c=c.slice(0,-1)),l!==c){var f=o.moveAnchorTo(a,0).moveFocusTo(a,l.length);f=r.resolveRange(f),e.insertTextAtRange(f,c,t.marks)}},reconcileDOMNode:function(e,t){var n=t.parentElement.closest("[data-key]"),r=e.findNode(n);e.reconcileNode(r)}}},l=Nt(),c=Et(e),u=rn(e),d={commands:{restoreDOM:function(e){var t=e.tmp.contentRef.current.tmp;t.contentKey=t.contentKey+1}}},f=ee?null:Fe({placeholder:n,when:function(e,t){return"document"===t.object&&""===t.text&&1===t.nodes.size&&1===Array.from(t.texts()).length}});return[r,o,a,c,u,d,f,i,s,l]}var hn=p()("slate:editor"),mn=function(e){function t(){var e,n,r;Je(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=Ze(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={value:r.props.defaultValue,contentKey:0},r.tmp={mounted:!1,change:null,resolves:0,updates:0,contentRef:o.a.createRef()},r.resolveController=Be((function(){var e=arguments[5];v(r.tmp.resolves<5||r.tmp.resolves!==r.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),r.tmp.resolves++;var t=e(Ye({},r.props,{editor:r,value:r.props.value||r.state.value})),n=function(e){r.tmp.mounted?r.handleChange(e):r.tmp.change=e};r.controller=new s.e({plugins:[t],onChange:n},{controller:r,construct:!1}),r.controller.run("onConstruct")})),Ze(r,n)}return Ge(t,e),Xe(t,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function(){this.tmp.mounted=!1}},{key:"render",value:function(){var e=this;hn("render",this);var n=this.props,r=n.commands,a=n.placeholder,i=n.plugins,s=n.queries,l=n.schema;this.resolveController(i,l,r,s,a,vn);var c=this.props,u=c.options,d=c.readOnly,f=c.value,p=this.state.value,v=f||p,h=this.state.contentKey;this.controller.setReadOnly(d),this.controller.setValue(v,u);var m=this.props,y=m.autoCorrect,g=m.className,b=m.id,C=m.role,w=m.spellCheck,k=m.tabIndex,O=m.style,E=m.tagName,x=le()(this.props,Object.keys(t.propTypes)),N=o.a.createElement(kt,Ye({},x,{ref:this.tmp.contentRef,autoCorrect:y,className:g,contentKey:h,editor:this,id:b,onEvent:function(t,n){return e.run(t,n)},readOnly:d,role:C,spellCheck:w,style:O,tabIndex:k,tagName:E}));return this.controller.run("renderEditor",Ye({},this.props,{editor:this,children:N}))}},{key:"handleChange",value:function(e){var t=this.props.onChange;this.state.value&&this.setState({value:e.value}),t(e)}},{key:"applyOperation",value:function(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"hasCommand",value:function(){var e;return(e=this.controller).hasCommand.apply(e,arguments)}},{key:"hasQuery",value:function(){var e;return(e=this.controller).hasQuery.apply(e,arguments)}},{key:"normalize",value:function(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){Object(xe.a)(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Object(xe.a)(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),t}(o.a.Component);function yn(e,t){v(!1,"As of slate-react@0.22 the `findNode(element)` helper is deprecated in favor of `editor.findNode(element)`."),Object(xe.a)(!s.n.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest(He.KEY);if(!n)return null;var r=n.getAttribute(Pe);return r&&t.value.document.getNode(r)||null}function gn(e,t){v(!1,"As of slate-react@0.22 the `findPath(element)` helper is deprecated in favor of `editor.findPath(element)`.");var n=yn(e,t);return n?t.value.document.getPath(n):null}function bn(e,t,n){v(!1,"As of slate-react@0.22 the `findPoint(node, offset)` helper is deprecated in favor of `editor.findPoint(node, offset)`."),Object(xe.a)(!s.n.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var r=function(e,t){if(1===e.nodeType&&e.childNodes.length){var n=t===e.childNodes.length,r=n?"backward":"forward";for(e=Cn(e,n?t-1:t,r);1===e.nodeType&&e.childNodes.length;){var o=n?e.childNodes.length-1:0;e=Cn(e,o,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),o=r.node,a=r.offset,i=m()(e),l=o.parentNode,c=l.closest(He.LEAF),u=void 0,d=void 0;if(c){var f=i.document.createRange(),p=c.closest(He.TEXT);f.setStart(p,0),f.setEnd(o,a),d=p;var h=f.cloneContents(),y=h.querySelectorAll("["+ze+"]");u=h.textContent.length-y.length}else{var g=l.closest(He.VOID);if(!g)return null;if(!(c=g.querySelector(He.LEAF)))return null;u=(d=c).textContent.length}u===d.textContent.length&&l.hasAttribute(ze)&&u--;var b=c.getAttribute(Ue);if(!b)return null;var C=nt.parse(b).key,w=n.value;return w.document.hasDescendant(C)?w.document.createPoint({key:C,offset:u}):null}function Cn(e,t,n){for(var r=e.childNodes,o=r[t],a=t,i=!1,s=!1;(8===o.nodeType||1===o.nodeType&&0===o.childNodes.length||1===o.nodeType&&"false"===o.getAttribute("contenteditable"))&&(!i||!s);)a>=r.length?(i=!0,a=t-1,n="backward"):a<0?(s=!0,a=t+1,n="forward"):(o=r[a],"forward"===n&&a++,"backward"===n&&a--);return o||null}function wn(e,t){v(!1,"As of slate-react@0.22 the `findRange(selection)` helper is deprecated in favor of `editor.findRange(selection)`."),Object(xe.a)(!s.n.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var r=m()(n);(e instanceof r.Range||r.StaticRange&&e instanceof r.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var o=e,a=o.anchorNode,i=o.anchorOffset,l=o.focusNode,c=o.focusOffset,u=o.isCollapsed,d=t.value,f=bn(a,i,t),p=u?f:bn(l,c,t);return f&&p?d.document.createRange({anchor:f,focus:p}):null}function kn(e,t){v(!1,"As of slate-react@0.22 the `getEventRange(event, editor)` helper is deprecated in favor of `editor.findEventRange(event)`."),Object(xe.a)(!s.n.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,r=n.clientX,o=n.clientY,a=n.target;if(null==r||null==o)return null;var i=t.value.document,l=gn(e.target,t);if(!l)return null;var c=i.getNode(l);if(t.isVoid(c)){var u=a.getBoundingClientRect(),d="inline"===c.object?r-u.left<u.left+u.width-r:o-u.top<u.top+u.height-o,f=i.createRange(),p=d?"moveToEndOfNode":"moveToStartOfNode",h=i[d?"getPreviousText":"getNextText"](l);return h?f[p](h):null}var y=m()(a),g=void 0;if(y.document.caretRangeFromPoint)g=y.document.caretRangeFromPoint(r,o);else if(y.document.caretPositionFromPoint){var b=y.document.caretPositionFromPoint(r,o);(g=y.document.createRange()).setStart(b.offsetNode,b.offset),g.setEnd(b.offsetNode,b.offset)}else if(y.document.body.createTextRange){g=y.document.body.createTextRange();try{g.moveToPoint(r,o)}catch(e){return null}}var C=wn(g,t);return C||null}mn.propTypes=Ye({autoCorrect:i.a.bool,autoFocus:i.a.bool,className:i.a.string,defaultValue:c.value,id:i.a.string,onChange:i.a.func,options:i.a.object,placeholder:i.a.any,plugins:i.a.array,readOnly:i.a.bool,role:i.a.string,schema:i.a.object,spellCheck:i.a.bool,style:i.a.object,tabIndex:i.a.number,value:c.value},Ie.reduce((function(e,t){return e[t]=i.a.func,e}),{}),["decorateNode","renderAnnotation","renderBlock","renderDecoration","renderDocument","renderEditor","renderInline","renderMark"].reduce((function(e,t){return e[t]=i.a.func,e}),{})),mn.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0}},513:function(e,t,n){"use strict";var r=n(330),o=n(480),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delimiter,o=void 0===n?"\n":n;return"document"===e.object||"block"===e.object&&r.a.isBlockList(e.nodes)?e.nodes.map(i).join(o):e.text}var s={deserialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultBlock,i=void 0===n?"line":n,s=t.defaultMarks,l=void 0===s?[]:s,c=t.delimiter,u=void 0===c?"\n":c,d=t.toJSON,f=void 0!==d&&d;o.Set.isSet(l)&&(l=l.toArray()),i=r.i.createProperties(i),l=l.map(r.h.createProperties);var p={object:"value",document:{object:"document",data:{},nodes:e.split(u).map((function(e){return a({},i,{object:"block",data:{},nodes:[{object:"text",text:e,marks:l}]})}))}},v=f?p:r.n.fromJSON(p);return v},serialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e.document,t)}};t.a=s},666:function(e,t,n){"use strict";var r,o=n(480),a=function(){invariant(!1,"ImmutablePropTypes type checking code is stripped in production.")};a.isRequired=a;var i=function(){return a};function s(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof o.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function l(e){function t(t,n,r,o,a,i){for(var s=arguments.length,l=Array(s>6?s-6:0),c=6;c<s;c++)l[c-6]=arguments[c];if(i=i||r,o=o||"<<anonymous>>",null!=n[r])return e.apply(void 0,[n,r,o,a,i].concat(l));var u=a;return t?new Error("Required "+u+" `"+i+"` was not specified in `"+o+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function c(e,t){return n="Iterable."+e,r=function(e){return o.Iterable.isIterable(e)&&t(e)},l((function(e,t,o,a,i){var l=e[t];if(!r(l)){var c=s(l);return new Error("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+o+"`, expected `"+n+"`.")}return null}));var n,r}(r={listOf:i,mapOf:i,orderedMapOf:i,setOf:i,orderedSetOf:i,stackOf:i,iterableOf:i,recordOf:i,shape:i,contains:i,mapContains:i,orderedMapContains:i,list:a,map:a,orderedMap:a,set:a,orderedSet:a,stack:a,seq:a,record:a,iterable:a}).iterable.indexed=c("Indexed",o.Iterable.isIndexed),r.iterable.keyed=c("Keyed",o.Iterable.isKeyed),e.exports=r},667:function(e,t,n){"use strict";(function(r){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(668)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(194))},668:function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=i,s=Number(new Date),l=s-(n||s);a.diff=l,a.prev=n,a.curr=s,n=s,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var o=r.formatters[n];if("function"==typeof o){var i=t[c];e=o.call(a,i),t.splice(c,1),c--}return e})),r.formatArgs.call(a,t);var u=a.log||r.log;u.apply(a,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=o,i.extend=a,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function a(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var a=r.instances[t];a.enabled=r.enabled(a.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(669),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},669:function(e,t){var n=1e3,r=6e4,o=60*r,a=24*o;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return i(e,t,a,"day");if(t>=o)return i(e,t,o,"hour");if(t>=r)return i(e,t,r,"minute");if(t>=n)return i(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},670:function(e,t,n){var r=n(671);e.exports=function(e){if(t=e,t&&t.window===t)return e;var t;var n=r(e);if(o){n.parentWindow.execScript("document._parentWindow = window;","Javascript");var a=n._parentWindow;return n._parentWindow=null,a}return n.defaultView||n.parentWindow};var o=n(672)},671:function(e,t){e.exports=function e(t){if(n(t))return t;if(n(t.ownerDocument))return t.ownerDocument;if(n(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)};function n(e){return e&&9===e.nodeType}},672:function(e,t){e.exports=!!document.attachEvent&&window!==document.parentWindow},673:function(e,t){e.exports=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,a=t.compareDocumentPosition(r);return!(4===a||0===a&&n<o)}},674:function(e,t,n){var r=n(675),o=n(332);e.exports=function(e,t,n){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:a,maxWait:t,trailing:i})}},675:function(e,t,n){var r=n(332),o=n(676),a=n(677),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,f,p,v=0,h=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=l,r=c;return l=c=void 0,v=t,d=e.apply(r,n)}function b(e){return v=e,f=setTimeout(w,t),h?g(e):d}function C(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-v>=u}function w(){var e=o();if(C(e))return k(e);f=setTimeout(w,function(e){var n=t-(e-p);return m?s(n,u-(e-v)):n}(e))}function k(e){return f=void 0,y&&l?g(e):(l=c=void 0,d)}function O(){var e=o(),n=C(e);if(l=arguments,c=this,p=e,n){if(void 0===f)return b(p);if(m)return clearTimeout(f),f=setTimeout(w,t),g(p)}return void 0===f&&(f=setTimeout(w,t)),d}return t=a(t)||0,r(n)&&(h=!!n.leading,u=(m="maxWait"in n)?i(a(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==f&&clearTimeout(f),v=0,l=p=c=f=void 0},O.flush=function(){return void 0===f?d:k(o())},O}},676:function(e,t,n){var r=n(328);e.exports=function(){return r.Date.now()}},677:function(e,t,n){var r=n(678),o=n(332),a=n(487),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},678:function(e,t,n){var r=n(679),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},679:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},680:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)i["f"+s]=111+s;function l(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return c(e,t)})),o=function(e){return r.some((function(t){return u(t,e)}))};return null==n?o:o(n)}function c(e,t){var n=t&&t.byKey,r={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var s in o)r[o[s]]=!1;var l=!0,c=!1,u=void 0;try{for(var p,v=a[Symbol.iterator]();!(l=(p=v.next()).done);l=!0){var h=p.value,m=h.endsWith("?");m&&(h=h.slice(0,-1));var y=f(h),g=o[y];1!==i&&g||(n?r.key=y:r.which=d(h)),g&&(r[g]=!m||null)}}catch(e){c=!0,u=e}finally{try{!l&&v.return&&v.return()}finally{if(c)throw u}}return r}function u(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function d(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=a[e]||e}t.default=l,t.isHotkey=l,t.isCodeHotkey=function(e,t){return l(e,t)},t.isKeyHotkey=function(e,t){return l(e,{byKey:!0},t)},t.parseHotkey=c,t.compareHotkey=u,t.toKeyCode=d,t.toKeyName=f},681:function(e,t,n){"use strict";t.atob=self.atob.bind(self),t.btoa=self.btoa.bind(self)}}]);